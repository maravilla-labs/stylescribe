/**
 * @title Avatar
 * @description User profile image or initials placeholder. Base component
 *   used by chat components for user representation.
 * @navtitle Avatar
 * @group Identity
 * @order 1
 * @verified true
 * @dependencies indicator
 * @variations circle, rounded, primary, success, warning, danger
 * @additional_variations xs, sm, md, lg, xl, ai
 * @elements
 * - name: image
 *   html: <img class="{{class}}" src="https://i.pravatar.cc/48" alt="Avatar">
 * - name: initials
 *   html: <span class="{{class}}">JD</span>
 * - name: status
 *   html: <span class="{{class}}"></span>
 * @examples
 * - title: Image Avatar
 *   description: Avatar with profile image
 *   code: |
 *     <div class="ds-avatar ds-avatar--md">
 *       <img class="ds-avatar__image" src="https://i.pravatar.cc/48" alt="User avatar">
 *     </div>
 * - title: Initials Avatar
 *   description: Avatar with user initials
 *   code: |
 *     <div class="ds-avatar ds-avatar--md">
 *       <span class="ds-avatar__initials">JD</span>
 *     </div>
 * - title: AI Avatar
 *   description: Avatar for AI assistant
 *   code: |
 *     <div class="ds-avatar ds-avatar--md ds-avatar--ai">
 *       <span class="ds-avatar__initials">AI</span>
 *     </div>
 * - title: With Status Indicator
 *   description: Avatar showing online status using indicator component
 *   code: |
 *     <div class="ds-avatar ds-avatar--md">
 *       <span class="ds-avatar__initials">JD</span>
 *       <span class="ds-avatar__status">
 *         <span class="ds-indicator ds-indicator--online ds-indicator--bordered"></span>
 *       </span>
 *     </div>
 * - title: Status Variants
 *   description: Different status states
 *   code: |
 *     <div class="ds-avatar ds-avatar--md">
 *       <span class="ds-avatar__initials">ON</span>
 *       <span class="ds-avatar__status"><span class="ds-indicator ds-indicator--online ds-indicator--bordered"></span></span>
 *     </div>
 *     <div class="ds-avatar ds-avatar--md">
 *       <span class="ds-avatar__initials">AW</span>
 *       <span class="ds-avatar__status"><span class="ds-indicator ds-indicator--away ds-indicator--bordered"></span></span>
 *     </div>
 *     <div class="ds-avatar ds-avatar--md">
 *       <span class="ds-avatar__initials">BY</span>
 *       <span class="ds-avatar__status"><span class="ds-indicator ds-indicator--busy ds-indicator--bordered"></span></span>
 *     </div>
 *     <div class="ds-avatar ds-avatar--md">
 *       <span class="ds-avatar__initials">OF</span>
 *       <span class="ds-avatar__status"><span class="ds-indicator ds-indicator--offline ds-indicator--bordered"></span></span>
 *     </div>
 * - title: Size Variants
 *   description: Different avatar sizes
 *   code: |
 *     <div class="ds-avatar ds-avatar--xs"><span class="ds-avatar__initials">XS</span></div>
 *     <div class="ds-avatar ds-avatar--sm"><span class="ds-avatar__initials">SM</span></div>
 *     <div class="ds-avatar ds-avatar--md"><span class="ds-avatar__initials">MD</span></div>
 *     <div class="ds-avatar ds-avatar--lg"><span class="ds-avatar__initials">LG</span></div>
 */

@layer components {
  .ds-avatar {
    /* Internal token defaults */
    --avatar-size: 40px;
    --avatar-bg: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --avatar-text: #ffffff;
    --avatar-radius: 50%;

    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: var(--avatar-size);
    height: var(--avatar-size);
    border-radius: var(--avatar-radius);
    background: var(--avatar-bg);
    color: var(--avatar-text);
    font-family: var(--font-family-base);
    font-weight: var(--font-weight-semibold);
    font-size: var(--avatar-size);
    overflow: hidden;
    flex-shrink: 0;

    /* Elements */
    &__image {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    &__initials {
      font-size: 0.4em;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    &__status {
      position: absolute;
      bottom: 0;
      right: 0;
      display: flex;
      align-items: center;
      justify-content: center;
    }
  }

  /* Variants only set tokens */

  .ds-avatar--ai {
    --avatar-bg: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  }

  .ds-avatar--rounded {
    --avatar-radius: var(--border-radius-lg);
  }

  /* Color variants */
  .ds-avatar--primary {
    --avatar-bg: var(--color-primary-500);
  }

  .ds-avatar--success {
    --avatar-bg: var(--color-success-base);
  }

  .ds-avatar--warning {
    --avatar-bg: var(--color-warning-base);
  }

  .ds-avatar--danger {
    --avatar-bg: var(--color-danger-base);
  }

  /* Size variants */
  .ds-avatar--xs {
    --avatar-size: 24px;
  }

  .ds-avatar--sm {
    --avatar-size: 32px;
  }

  .ds-avatar--md {
    --avatar-size: 40px;
  }

  .ds-avatar--lg {
    --avatar-size: 56px;
  }

  .ds-avatar--xl {
    --avatar-size: 80px;
  }
}
