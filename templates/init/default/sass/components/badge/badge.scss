/**
 * @title Badge
 * @description Small status indicators and labels for highlighting information.
 * @navtitle Badge
 * @group Communication
 * @order 2
 * @verified true
 * @variations primary, secondary, success, warning, error
 * @additional_variations pill, outline, dot
 * @elements dot, label
 * @examples
 * - title: Complete Badge
 *   description: Badge with all available elements
 *   code: |
 *     <span class="ds-badge ds-badge--success ds-badge--dot">
 *       <span class="ds-badge__dot"></span>
 *       <span class="ds-badge__label">Online</span>
 *     </span>
 * - title: Status Badges
 *   description: Semantic color variants
 *   code: |
 *     <span class="ds-badge ds-badge--success">Active</span>
 *     <span class="ds-badge ds-badge--warning">Pending</span>
 *     <span class="ds-badge ds-badge--error">Failed</span>
 * - title: Pill Badges
 *   description: Rounded pill shape
 *   code: |
 *     <span class="ds-badge ds-badge--primary ds-badge--pill">New</span>
 *     <span class="ds-badge ds-badge--secondary ds-badge--pill">12</span>
 * - title: With Dot Indicator
 *   description: Animated status dot
 *   code: |
 *     <span class="ds-badge ds-badge--success ds-badge--dot">
 *       <span class="ds-badge__dot"></span>
 *       <span class="ds-badge__label">Online</span>
 *     </span>
 *     <span class="ds-badge ds-badge--error ds-badge--dot">
 *       <span class="ds-badge__dot"></span>
 *       <span class="ds-badge__label">Offline</span>
 *     </span>
 * - title: Outline Badges
 *   description: Subtle outlined style
 *   code: |
 *     <span class="ds-badge ds-badge--primary ds-badge--outline">Draft</span>
 *     <span class="ds-badge ds-badge--success ds-badge--outline">Published</span>
 */

@layer components {
  .ds-badge {
    /* Internal token defaults */
    --badge-bg: var(--color-neutral-200);
    --badge-text: var(--color-text);
    --badge-radius: var(--border-radius-sm);
    --badge-padding-x: 0.6em;
    --badge-padding-y: 0.25em;
    --badge-border: transparent;

    display: inline-flex;
    align-items: center;
    gap: var(--spacing-xs);
    padding: var(--badge-padding-y) var(--badge-padding-x);
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-semibold);
    line-height: 1.2;
    border-radius: var(--badge-radius);
    white-space: nowrap;
    vertical-align: middle;
    background-color: var(--badge-bg);
    color: var(--badge-text);
    border: 1px solid var(--badge-border);

    /* Elements */
    &__dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background-color: currentColor;
      animation: badge-pulse 2s ease-in-out infinite;
    }

    &__label {
      display: inline-block;
    }
  }

  /* Variants only set tokens */

  .ds-badge--primary {
    --badge-bg: var(--color-primary-500);
    --badge-text: #fff;
  }

  .ds-badge--secondary {
    --badge-bg: var(--color-neutral-500);
    --badge-text: #fff;
  }

  .ds-badge--success {
    --badge-bg: var(--color-success-base);
    --badge-text: #fff;
  }

  .ds-badge--warning {
    --badge-bg: var(--color-warning-base);
    --badge-text: var(--color-neutral-900);
  }

  .ds-badge--error {
    --badge-bg: var(--color-danger-base);
    --badge-text: #fff;
  }

  /* Additional variants */

  .ds-badge--pill {
    --badge-radius: 9999px;
    --badge-padding-x: 0.75em;
  }

  .ds-badge--outline {
    --badge-bg: transparent;
    --badge-border: currentColor;
  }

  .ds-badge--outline.ds-badge--primary {
    --badge-text: var(--color-primary-500);
  }

  .ds-badge--outline.ds-badge--secondary {
    --badge-text: var(--color-neutral-500);
  }

  .ds-badge--outline.ds-badge--success {
    --badge-text: var(--color-success-base);
  }

  .ds-badge--outline.ds-badge--warning {
    --badge-text: #d39e00;
  }

  .ds-badge--outline.ds-badge--error {
    --badge-text: var(--color-danger-base);
  }

  .ds-badge--dot {
    --badge-bg: transparent;
    --badge-padding-x: 0;
    --badge-padding-y: 0;

    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
  }

  .ds-badge--dot.ds-badge--primary {
    --badge-text: var(--color-primary-500);
  }

  .ds-badge--dot.ds-badge--success {
    --badge-text: var(--color-success-base);
  }

  .ds-badge--dot.ds-badge--warning {
    --badge-text: #d39e00;
  }

  .ds-badge--dot.ds-badge--error {
    --badge-text: var(--color-danger-base);
  }
}

@keyframes badge-pulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}
